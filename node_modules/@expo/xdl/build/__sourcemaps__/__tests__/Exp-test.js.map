{"version":3,"sources":["__tests__/Exp-test.js"],"names":["jest","mock","fs","require","mockfs","describe","beforeEach","packageJson","JSON","stringify","name","version","main","packageJsonAndroid","packageJsonIos","packageJsonNoMain","expJson","slug","expJsonWithEntry","entryPoint","__configureFs","afterEach","restore","it","async","await","Exp","determineEntryPointAsync","expect","toBe"],"mappings":"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","file":"../../__tests__/Exp-test.js","sourcesContent":["import * as Exp from '../Exp';\n\njest.mock('fs');\n\nconst fs = require('fs');\nconst mockfs = require('mock-fs');\n\ndescribe('determineEntryPointAsync', () => {\n  beforeEach(() => {\n    const packageJson = JSON.stringify(\n      {\n        name: 'testing123',\n        version: '0.1.0',\n        main: 'index.js',\n      },\n      null,\n      2\n    );\n\n    const packageJsonAndroid = JSON.stringify(\n      {\n        name: 'testing123android',\n        version: '0.1.0',\n        main: 'index.android.js',\n      },\n      null,\n      2\n    );\n\n    const packageJsonIos = JSON.stringify(\n      {\n        name: 'testing123ios',\n        version: '0.1.0',\n        main: 'index.ios.js',\n      },\n      null,\n      2\n    );\n\n    const packageJsonNoMain = JSON.stringify({\n      name: 'testing456',\n      version: '0.2.0',\n    });\n\n    const expJson = JSON.stringify(\n      {\n        name: 'testing 123',\n        version: '0.1.0',\n        slug: 'testing-123',\n      },\n      null,\n      2\n    );\n\n    const expJsonWithEntry = JSON.stringify({\n      name: 'testing567',\n      version: '0.6.0',\n      entryPoint: 'main.js',\n    });\n\n    fs.__configureFs({\n      '/exists-no-platform/package.json': packageJson,\n      '/exists-no-platform/exp.json': expJson,\n      '/exists-no-platform/index.js': 'console.log(\"lol\")',\n\n      '/exists-no-platform-no-main/package.json': packageJsonNoMain,\n      '/exists-no-platform-no-main/exp.json': expJson,\n      '/exists-no-platform-no-main/index.js': 'console.log(\"lol\")',\n\n      '/exists-android/package.json': packageJsonAndroid,\n      '/exists-android/exp.json': expJson,\n      '/exists-android/index.android.js': 'console.log(\"lol\")',\n\n      '/exists-ios/package.json': packageJsonIos,\n      '/exists-ios/exp.json': expJson,\n      '/exists-ios/index.ios.js': 'console.log(\"lol\")',\n\n      '/exists-expjson/package.json': packageJson,\n      '/exists-expjson/exp.json': expJsonWithEntry,\n      '/exists-expjson/main.js': 'console.log(\"lol\")',\n    });\n  });\n\n  afterEach(() => {\n    mockfs.restore();\n  });\n\n  it('exists-no-platform', async () => {\n    const entryPoint = await Exp.determineEntryPointAsync('/exists-no-platform');\n    expect(entryPoint).toBe('index.js');\n  });\n\n  it('exists-no-platform-no-main', async () => {\n    const entryPoint = await Exp.determineEntryPointAsync('/exists-no-platform-no-main');\n    expect(entryPoint).toBe('index.js');\n  });\n\n  it('exists-android', async () => {\n    const entryPoint = await Exp.determineEntryPointAsync('/exists-android');\n    expect(entryPoint).toBe('index.android.js');\n  });\n\n  it('exists-ios', async () => {\n    const entryPoint = await Exp.determineEntryPointAsync('/exists-ios');\n    expect(entryPoint).toBe('index.ios.js');\n  });\n\n  it('exists-expjson', async () => {\n    const entryPoint = await Exp.determineEntryPointAsync('/exists-expjson');\n    expect(entryPoint).toBe('main.js');\n  });\n});\n"],"sourceRoot":"/@expo/xdl@55.0.14/src"}