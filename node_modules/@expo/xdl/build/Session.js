"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.clientIdAsync = clientIdAsync;
exports.setClientIdAsync = setClientIdAsync;

var _slugid = _interopRequireDefault(require("slugid"));

var _UserSettings = _interopRequireDefault(require("./UserSettings"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _newIdentifier(type = 'c') {
  return type + '-' + _slugid.default.v4();
}

async function clientIdAsync() {
  var clientId = await _UserSettings.default.getAsync('accessToken', null);

  if (clientId === null) {
    clientId = _newIdentifier();
    await setClientIdAsync(clientId);
  }

  return clientId;
}

async function setClientIdAsync(token) {
  await _UserSettings.default.setAsync('accessToken', token);
  return token;
}
//# sourceMappingURL=__sourcemaps__/Session.js.map
