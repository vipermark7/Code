{"version":3,"sources":["commands/build/BaseBuilder.js"],"names":["sleep","setTimeout","res","ms","secondsToMilliseconds","seconds","BaseBuilder","projectDir","options","wait","clearCredentials","releaseChannel","publish","manifest","prepareProjectInfo","run","error","message","process","exit","checkStatus","readConfigJsonAsync","exp","ensureLoggedInAsync","user","checkProjectConfig","isDetached","platform","oldestSupportedMajorVersionAsync","oldestSupportedMajorVersion","major","sdkVersion","newestSdkVersionAsync","version","warn","bold","buildAsync","mode","current","publicUrl","buildStatus","jobs","length","err","Error","logBuildStatuses","findReusableBuildAsync","slug","reuseStatus","canReuse","underline","downloadUrl","questions","type","name","answers","confirm","raw","forEach","job","i","packageExtension","constructBuildLogsUrl","id","hasPriorityBuilds","numberOfRemainingPriorityBuilds","hasUnlimitedPriorityBuilds","shouldShowUpgradeInfo","priority","canPurchasePriorityBuilds","status","constructTurtleStatusUrl","artifacts","url","duringBuild","ids","getLatestReleaseAsync","release","channel","publicationId","publishedTime","buildId","timeout","interval","spinner","start","time","Date","getTime","endTime","compose","head","filter","getOr","succeed","text","fail","expIds","bundleIdentifier","opts","waitOpts","completedJob","artifactUrl","artifactId","constructArtifactUrl","green"],"mappings":"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","file":"../../../commands/build/BaseBuilder.js","sourceRoot":"/expo-cli@2.21.2/src"}