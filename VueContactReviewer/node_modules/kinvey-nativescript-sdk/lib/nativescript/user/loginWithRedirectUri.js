Object.defineProperty(exports, "__esModule", { value: true });
var app = __importStar(require("tns-core-modules/application"));
var loginWithRedirectUri_1 = require("kinvey-js-sdk/lib/user/loginWithRedirectUri");
var utils_1 = require("../utils");
function getAppIdentifier() {
    if (app.android) {
        return app.android.packageName;
    }
    else if (app.ios) {
        return NSBundle.mainBundle.bundleIdentifier;
    }
    return null;
}
function getRedirectUri(redirectUri) {
    var appIdentifier = getAppIdentifier();
    if (appIdentifier) {
        if (appIdentifier === 'org.nativescript.preview') {
            return 'nsplayresume://';
        }
        else if (appIdentifier === 'com.kinvey.preview') {
            return 'kspreviewresume://';
        }
    }
    return redirectUri;
}
function loginWithRedirectUri(providedRedirectUri, options) {
    var redirectUri = getRedirectUri(providedRedirectUri);
    var config = utils_1.getDataFromPackageJson();
    return loginWithRedirectUri_1.loginWithRedirectUri(redirectUri || config.redirectUri, options);
}
exports.loginWithRedirectUri = loginWithRedirectUri;
//# sourceMappingURL=loginWithRedirectUri.js.map